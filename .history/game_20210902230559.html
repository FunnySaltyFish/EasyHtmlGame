<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Making your first Phaser 3 Game - Part 10</title>
    <script src="//cdn.jsdelivr.net/npm/phaser@3.54.0/dist/phaser.js"></script>
    <script src="./utils/math.js"></script>
    <script src="./scenes/BaseConfig.js"></script>
    <script src="./scenes/GameScene.js"></script>
    <script src="./scenes/StartScene.js"></script>
    <style type="text/css">
      body {
        margin: 0;
      }
    </style>
  </head>
  <body>
  </body>
  <script type="text/javascript">
    var config = {
      type: Phaser.AUTO,
      scale: {
        mode: Phaser.Scale.FIT,
        parent: 'phaser-example',
        autoCenter: Phaser.Scale.CENTER_BOTH,
        width: GAME_WIDTH,
        height: GAME_HEIGHT
      },
      width: GAME_WIDTH,
      height: GAME_HEIGHT,
      physics: {
        default: "arcade",
        arcade: {
          gravity: { y: 300 },
          debug: false,
        },
      },
    };

    var game = new Phaser.Game(config);
    game.scene.add(SCENE_START, StartScene);
    //game.scene.add(SCENE_GAME,GameScene);

    game.scene.start(SCENE_START);

    game.scale.startFullscreen();

    // resize();
    // window.focus();
    
    // window.addEventListener('resize', resize, false);

    function resize() {
      var windowWidth = window.outerWidth;
      var windowHeight = window.outerHeight;
      console.log(windowWidth+" "+windowHeight);
      var windowRatio = windowWidth / windowHeight;
      var gameRatio = GAME_WIDTH / GAME_HEIGHT;
      console.log(gameRatio);
      if (windowRatio < gameRatio) {
        GAME_WIDTH = windowWidth;
        GAME_HEIGHT = windowWidth / gameRatio;
      } else {
        GAME_WIDTH = windowHeight * gameRatio;
        GAME_HEIGHT = windowHeight;
      }
    }
  </script>
</html>
